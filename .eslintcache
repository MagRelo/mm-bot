[{"/Users/mattlovan/Projects/mm-bot/src/index.js":"1","/Users/mattlovan/Projects/mm-bot/src/App.js":"2","/Users/mattlovan/Projects/mm-bot/src/components/header.js":"3","/Users/mattlovan/Projects/mm-bot/src/sockets.js":"4","/Users/mattlovan/Projects/mm-bot/src/components/util.js":"5","/Users/mattlovan/Projects/mm-bot/src/components/consensusButton.js":"6","/Users/mattlovan/Projects/mm-bot/src/components/beachballButton.js":"7","/Users/mattlovan/Projects/mm-bot/src/components/clapButton.js":"8","/Users/mattlovan/Projects/mm-bot/src/components/longpress.js":"9"},{"size":680,"mtime":1608504839287,"results":"10","hashOfConfig":"11"},{"size":2305,"mtime":1608741067947,"results":"12","hashOfConfig":"11"},{"size":3282,"mtime":1608322738411,"results":"13","hashOfConfig":"14"},{"size":935,"mtime":1608749326179,"results":"15","hashOfConfig":"11"},{"size":1616,"mtime":1608401538341,"results":"16","hashOfConfig":"11"},{"size":968,"mtime":1608330489483,"results":"17","hashOfConfig":"11"},{"size":1093,"mtime":1608401751582,"results":"18","hashOfConfig":"11"},{"size":3038,"mtime":1608739372617,"results":"19","hashOfConfig":"11"},{"size":1612,"mtime":1608737163771,"results":"20","hashOfConfig":"11"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},"f1lgg",{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"23"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1fjw2v6",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"23"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"23"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"23"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mattlovan/Projects/mm-bot/src/index.js",[],["44","45"],"/Users/mattlovan/Projects/mm-bot/src/App.js",["46"],"import React, { useEffect, useState } from 'react';\nimport { initiateSocket, disconnectSocket, subscribeToChat } from './sockets';\n\nimport { getParams, formatCurrency } from './components/util';\n\nimport ConsensusButton from './components/consensusButton';\nimport BeachBallButton from './components/beachballButton';\nimport ClapButton from './components/clapButton';\n\n// Custom List\nexport const CustomListContext = React.createContext({});\n\nfunction App() {\n  // get URL params\n  const params = getParams(window.location);\n  const accessCode = params.accessCode;\n\n  // get from params\n  // const [room, setRoom] = useState(params.room || 'general');\n  const [user, setUser] = useState(null);\n\n  // connect\n  useEffect(() => {\n    initiateSocket({ room: 'general', discordId: accessCode });\n\n    subscribeToChat((err, data) => {\n      if (err) return console.log(err);\n      setUser(data);\n    });\n\n    return () => {\n      disconnectSocket();\n    };\n  }, [accessCode]);\n\n  return (\n    <CustomListContext.Provider value={{}}>\n      {user ? (\n        <div className=\"App\">\n          <div className=\"page-container\">\n            <div className=\"user-info-grid\">\n              <div className=\"name\">{user.username}</div>\n              <div className=\"balance\">{formatCurrency(user.mmBalance)}</div>\n            </div>\n\n            <div className=\"crowd-actions-grid\">\n              <div className=\"beach-ball-section\">\n                <BeachBallButton\n                  active={false}\n                  title=\"Wave!\"\n                  type=\"wave\"\n                  cost=\"10\"\n                  payoff=\"30\"\n                  threshold=\"60%\"\n                />\n              </div>\n            </div>\n\n            <div className=\"crowd-actions-grid\">\n              {/* <ConsensusButton\n              active={false}\n              title=\"Start a wave\"\n              type=\"wave\"\n              cost=\"10\"\n              payoff=\"30\"\n              threshold=\"60%\"\n            /> */}\n            </div>\n\n            <div className=\"user-actions-grid\">\n              <div className=\"clap-section\">\n                <ClapButton userName={user.name} userId={user.userId} />\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </CustomListContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/mattlovan/Projects/mm-bot/src/components/header.js",["47","48","49"],"/Users/mattlovan/Projects/mm-bot/src/sockets.js",[],"/Users/mattlovan/Projects/mm-bot/src/components/util.js",[],"/Users/mattlovan/Projects/mm-bot/src/components/consensusButton.js",["50","51"],"import React, { useState, useEffect } from 'react';\n// import { Link, globalHistory, useLocation } from '@reach/router';\n// import { createConnection } from 'mongoose';\n\nexport default ConsensusButton;\nfunction ConsensusButton({ active, type, title, cost, payoff, threshold }) {\n  // params:\n  // - active\n  // - type\n  // - title\n  // - cost\n  // - payoff\n  // - threshold\n  // - timer\n\n  // states:\n  // - inactive => can propose\n  // - active => can vote\n\n  // const { activeSession, user } = useContext(AuthContext);\n  // const [active, setActive] = useState(active);\n\n  // useEffect(() => {\n  //   return globalHistory.listen((action) => {\n  //     setMenuOpen(false);\n  //   });\n  // }, []);\n\n  return (\n    <div>\n      {active ? (\n        <div>\n          <button>Confirm</button>\n          <button>reject</button>\n        </div>\n      ) : (\n        <div>\n          <button className=\"consensus-button\">{title}</button>\n        </div>\n      )}\n    </div>\n  );\n}\n","/Users/mattlovan/Projects/mm-bot/src/components/beachballButton.js",["52","53"],"import React, { useState, useEffect } from 'react';\n\n// button styles\nimport beachball from '../images/beachball.svg';\nconst defaultButtonStyle = { border: 'dashed 1px  #ddd' };\nconst activeButtonStyle = { backgroundImage: `url(${beachball})` };\n\nexport default ConsensusButton;\nfunction ConsensusButton({ active, type, title, cost, payoff, threshold }) {\n  // params:\n  // - active\n\n  // - type\n  // - title\n  // - cost\n  // - payoff\n  // - threshold\n\n  // states:\n  // - inactive => button inactive, disabled\n  // - active => button active, throw ball, timer\n  // useEffect(() => {\n  //   return globalHistory.listen((action) => {\n  //     setMenuOpen(false);\n  //   });\n  // }, []);\n\n  return (\n    <div>\n      <button\n        disabled={!active}\n        className=\"beachball-button\"\n        style={active ? activeButtonStyle : defaultButtonStyle}\n      ></button>\n\n      <div className=\"beachball-caption\">\n        {active ? (\n          <span>Hit the beachball! </span>\n        ) : (\n          <span>When the beachball comes to you, hit it!</span>\n        )}\n      </div>\n    </div>\n  );\n}\n","/Users/mattlovan/Projects/mm-bot/src/components/clapButton.js",["54"],"import React, { useState } from 'react';\nimport useDimensions from 'react-use-dimensions';\n\nimport { sendClap } from '../sockets';\nimport useLongPress from './longpress';\n\nexport default function ClapButton({ roomNumber, userId, userName }) {\n  const [ref, { x, y, width }] = useDimensions();\n\n  const onLongPress = () => {\n    console.log('longclick triggered');\n\n    sendClap({ roomNumber, userId, userName, amount: 10 });\n    explode(x + width / 2, y + width / 2, width);\n  };\n\n  const onClick = (e) => {\n    console.log('click triggered');\n\n    sendClap({ roomNumber, userId, userName, amount: 1 });\n    explode(x + width / 2, y + width / 2, width);\n  };\n\n  const defaultOptions = {\n    shouldPreventDefault: true,\n    delay: 800,\n  };\n  const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\n\n  return (\n    <div style={{ position: 'sticky' }}>\n      <button {...longPressEvent} ref={ref} className=\"clap-button\">\n        CLAP\n      </button>\n    </div>\n  );\n}\n\n//- Explosion\n//- adapted from \"Anchor Click Canvas Animation\" by Nick Sheffield\n//- https://codepen.io/nicksheffield/pen/NNEoLg/\n\nconst colors = ['#00FF00', '#000', 'yellow'];\nconst bubbles = 25;\n\nconst explode = (x, y, width) => {\n  let particles = [];\n  let ratio = window.devicePixelRatio;\n  let c = document.createElement('canvas');\n  let ctx = c.getContext('2d');\n\n  console.log(x, y, width);\n\n  c.style.position = 'absolute';\n  c.style.left = x - 100 + 'px';\n  c.style.top = y - 100 + 'px';\n  c.style.pointerEvents = 'none';\n  c.style.width = width + 'px';\n  c.style.height = width + 'px';\n  c.style.zIndex = 100;\n  c.width = width * ratio;\n  c.height = width * ratio;\n\n  document.body.appendChild(c);\n\n  for (var i = 0; i < bubbles; i++) {\n    particles.push({\n      x: c.width / 2,\n      y: c.height / 2,\n      radius: r(20, 30),\n      color: colors[Math.floor(Math.random() * colors.length)],\n      rotation: r(0, 360, true),\n      speed: r(8, 20),\n      friction: 0.9,\n      opacity: r(0, 0.5, true),\n      yVel: 0,\n      gravity: 0.1,\n    });\n  }\n\n  render(particles, ctx, c.width, c.height);\n  setTimeout(() => document.body.removeChild(c), 1000);\n};\n\nconst render = (particles, ctx, width, height) => {\n  requestAnimationFrame(() => render(particles, ctx, width, height));\n  ctx.clearRect(0, 0, width, height);\n\n  particles.forEach((p, i) => {\n    p.x += p.speed * Math.cos((p.rotation * Math.PI) / 180);\n    p.y += p.speed * Math.sin((p.rotation * Math.PI) / 180);\n\n    p.opacity -= 0.01;\n    p.speed *= p.friction;\n    p.radius *= p.friction;\n    p.yVel += p.gravity;\n    p.y += p.yVel;\n\n    if (p.opacity < 0 || p.radius < 0) return;\n\n    ctx.beginPath();\n    ctx.globalAlpha = p.opacity;\n    ctx.fillStyle = p.color;\n    ctx.arc(p.x, p.y, p.radius, 0, 2 * Math.PI, false);\n    ctx.fill();\n  });\n\n  return ctx;\n};\n\nconst r = (a, b, c) =>\n  parseFloat(\n    (Math.random() * ((a ? a : 1) - (b ? b : 0)) + (b ? b : 0)).toFixed(\n      c ? c : 0\n    )\n  );\n\n// document.querySelector('.js-explosion').addEventListener('mouseover', e => );\n","/Users/mattlovan/Projects/mm-bot/src/components/longpress.js",[],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":6,"column":8,"nodeType":"61","messageId":"62","endLine":6,"endColumn":23},{"ruleId":"59","severity":1,"message":"63","line":1,"column":27,"nodeType":"61","messageId":"62","endLine":1,"endColumn":36},{"ruleId":"59","severity":1,"message":"64","line":8,"column":10,"nodeType":"61","messageId":"62","endLine":8,"endColumn":18},{"ruleId":"59","severity":1,"message":"65","line":8,"column":20,"nodeType":"61","messageId":"62","endLine":8,"endColumn":31},{"ruleId":"59","severity":1,"message":"66","line":1,"column":17,"nodeType":"61","messageId":"62","endLine":1,"endColumn":25},{"ruleId":"59","severity":1,"message":"63","line":1,"column":27,"nodeType":"61","messageId":"62","endLine":1,"endColumn":36},{"ruleId":"59","severity":1,"message":"66","line":1,"column":17,"nodeType":"61","messageId":"62","endLine":1,"endColumn":25},{"ruleId":"59","severity":1,"message":"63","line":1,"column":27,"nodeType":"61","messageId":"62","endLine":1,"endColumn":36},{"ruleId":"59","severity":1,"message":"66","line":1,"column":17,"nodeType":"61","messageId":"62","endLine":1,"endColumn":25},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'ConsensusButton' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'menuOpen' is assigned a value but never used.","'setMenuOpen' is assigned a value but never used.","'useState' is defined but never used.","no-global-assign","no-unsafe-negation"]